syntax = "proto3";

option java_multiple_files = true;
option java_package = "contest.join.proto";

package contestjoin;

// gRPC definition for ContestJoinService



service ContestJoinService {
    rpc JoinContest(ContestJoinRequests) returns (Joins) {}
    rpc GetContestJoin (GetJoinRequest) returns (JoinState) {}
}

message ContestJoinRequests {
    repeated ContestJoinRequest contestJoinRequest = 1;
}

message ContestJoinRequest {
    string contestId = 1;
    string userId = 2;
    string joinMetaData = 3;
}

message GetJoinRequest {
    string contestId = 1;
}

message Joins {
    repeated JoinRecord joinRecords = 1;
}


message JoinRecord {
    string contestId = 1;
    string userId = 2;
    string status = 3;
}
message JoinState {
    string contestId = 1;
    int32 maxSeat = 2;
    int32 occupiedSeatCount = 3;
}
